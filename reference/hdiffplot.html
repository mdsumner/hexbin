<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot of Domain and Median Differences of Two "hexbin" Objects — hdiffplot • hexbin</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot of Domain and Median Differences of Two " hexbin objects hdiffplot><meta property="og:description" content="Let bin1 and bin2 represent two hexbin
  objects with scaling, plot shapes, and bin sizes.  This plot
  distinguishes cells unique to bin1, cells in common, and cells
  unique to bin2 using color.  When the erode components are
  present, color also distinguishes the two erosion medians.  An arrow
  shows the vector from the median of bin1 to the median of
  bin2."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hexbin</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.28.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edzer/hexbin/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot of Domain and Median Differences of Two "hexbin" Objects</h1>
    
    <div class="hidden name"><code>hdiffplot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Let <code>bin1</code> and <code>bin2</code> represent two <code><a href="hexbin.html">hexbin</a></code>
  objects with scaling, plot shapes, and bin sizes.  This plot
  distinguishes cells unique to <code>bin1</code>, cells in common, and cells
  unique to <code>bin2</code> using color.  When the erode components are
  present, color also distinguishes the two erosion medians.  An arrow
  shows the vector from the median of <code>bin1</code> to the median of
  <code>bin2</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre><code>hdiffplot(bin1, bin2 = NULL, xbnds, ybnds,
          focus = NULL,&lt;!-- % if(is.null(bin2)) 1:length(bin1) else c(1, 2), --&gt;
          col.control = list(medhex = "white", med.bord = "black",
          focus = NULL, focus.border = NULL, back.col = "grey"),
          arrows = TRUE, size = unit(0.1, "inches"), lwd = 2,
          eps = 1e-6, unzoom = 1.08, clip="off", xlab = "", ylab = "",
          main = deparse(mycall), ...)</code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>bin1, bin2</dt>
<dd><p>two objects of class <code><a href="hexbin.html">hexbin</a></code>.</p></dd>

  <dt>xbnds,ybnds</dt>
<dd><p>global x- and y-axis plotting limits.  Used
    primarily for multiple comparison plots.</p></dd>

</dl><p><!-- %%%------- FIXME -------- --></p>
<dl><dt>focus</dt>
<dd><p>a vector of integers specifying which hexbin objects
    should be treated as focal. Excluded hexbins are treated as background.</p></dd>

  <dt>col.control</dt>
<dd><p>a list for detailed color control.</p></dd>
</dl><p><!-- %% &lt;&lt;&lt; FIXME --></p>
<dl><dt>arrows</dt>
<dd><p>a logical indicating wheter or not to draw arrows
    between the focal hexbin objects median cells.</p></dd>

</dl><p><!-- %not yet \item{density}{fill arguments to polygon} --></p>


<p><!-- %not yet \item{pen}{pen numbers for polgyon} --></p>
<dl><dt>border</dt>
<dd><p>border arguments to polygon</p></dd>

  <dt>size</dt>
<dd><p>arrow type size in inches.</p></dd>

  <dt>eps</dt>
<dd><p>distance criteria for distinct medians</p></dd>

  <dt>unzoom</dt>
<dd><p>plot limit expansion factor when xbnds is missing</p></dd>

  <dt>clip</dt>
<dd><p>either 'on' or 'off' are the allowed arguments, when on
    everything is clipped to the plotting region.</p></dd>

  <dt>lwd</dt>
<dd><p>Line width for arrows, ignored when <code>arrows=FALSE</code> or
    when bins have no erosion component</p></dd>

  <dt>xlab</dt>
<dd><p>label for x-axis</p></dd>

  <dt>ylab</dt>
<dd><p>label for y-axis</p></dd>

  <dt>main</dt>
<dd><p>main title for the plot; automatically constructed by default.</p></dd>

  <dt>...</dt>
<dd><p>...............</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The hexbin objects for comparison, <code>bin1</code> and <code>bin2</code>, must
  have the same plotting limits and cell size.  The plot produces a
  comparison overlay of the cells in the two objects.  If external
  global scaling is not supplied, the algorithm determines plotting
  limits to increase resolution.  For example, the objects may be the
  result of the <code><a href="erode.hexbin.html">erode.hexbin</a>()</code> and include only high count cells
  containing 50 of the counts.  The density, border, and pen arguments
  correspond to the polygon function calls for plotting six types of
  cells.  The cell types are respectively:</p><table class="table table"><tr><td>unique cells of bin1,</td></tr><tr><td>joint cells,</td></tr><tr><td>unique cells of bin2,</td></tr><tr><td>median cell of bin1,</td></tr><tr><td>median cell of bin2,</td></tr><tr><td>median cell if identical.</td></tr><tr><td></td></tr></table><p>The <code>erode</code> components of the hexbin objects must be present for the
  medians to plot.  The algorithm select a single cell for the median if
  there are algorithmic ties.</p>
<p><!-- %% FIXME: no 'pen' argument anymore .. (?) -->
  The <code>pen</code> numbers for types of cells start at Pen 2.  Pen 1 is
  presumed black.  The suggested six additional colors are light blue,
  light gray, light red, blue, red, and black.  Carr (1991) shows an
  example for black and white printing.  That plot changes the six
  colors to light gray, dark gray, white, black, black, and black.  It
  changes the 4th, 5th, and 6th argument of border to TRUE.  It also
  changes 4th, 5th and 6th argument of density to 0.  In other words
  cells in common do not show and medians cells appear as outlines.</p>
<p>When <code>xbnds</code> is missing, the plot changes graphics parameters and
  resets them.  The function also zooms in based on the available data
  to provide increased resolution.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>see in <code><a href="grid.hexagons.html">grid.hexagons</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="hexbin.html">hexbin</a></code>, <code><a href="smooth.hexbin.html">smooth.hexbin</a></code>, <code><a href="erode.hexbin.html">erode.hexbin</a></code>,
  <!-- % MISSING: hthin, -->
  <code><a href="hcell2xy.html">hcell2xy</a></code>, <!-- % \code{\link{hcell}}, -->
  <code><a href="gplot.hexbin.html">gplot.hexbin</a></code>,
  <code><a href="hboxplot.html">hboxplot</a></code>, <!-- % \code{\link{hmatplot}}, -->
  <code><a href="grid.hexagons.html">grid.hexagons</a></code>, <code><a href="grid.hexlegend.html">grid.hexlegend</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Comparison of two bivariate boxplots</span></span></span>
<span class="r-in"><span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span>,mean<span class="op">=</span><span class="fl">.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span>,mean<span class="op">=</span><span class="fl">.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xbnds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">x1</span>,<span class="va">x2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ybnds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">y1</span>,<span class="va">y2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bin1</span> <span class="op">&lt;-</span> <span class="fu"><a href="hexbin.html">hexbin</a></span><span class="op">(</span><span class="va">x1</span>,<span class="va">y1</span>,xbnds<span class="op">=</span><span class="va">xbnds</span>,ybnds<span class="op">=</span><span class="va">ybnds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bin2</span> <span class="op">&lt;-</span> <span class="fu"><a href="hexbin.html">hexbin</a></span><span class="op">(</span><span class="va">x2</span>,<span class="va">y2</span>,xbnds<span class="op">=</span><span class="va">xbnds</span>,ybnds<span class="op">=</span><span class="va">ybnds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">erodebin1</span> <span class="op">&lt;-</span> <span class="fu"><a href="erode.hexbin.html">erode.hexbin</a></span><span class="op">(</span><span class="fu"><a href="smooth.hexbin.html">smooth.hexbin</a></span><span class="op">(</span><span class="va">bin1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">erodebin2</span> <span class="op">&lt;-</span> <span class="fu"><a href="erode.hexbin.html">erode.hexbin</a></span><span class="op">(</span><span class="fu"><a href="smooth.hexbin.html">smooth.hexbin</a></span><span class="op">(</span><span class="va">bin2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">hdiffplot</span><span class="op">(</span><span class="va">erodebin1</span>,<span class="va">erodebin2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="hdiffplot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Compare  *three* of them: --------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span>,mean<span class="op">=</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10000</span>,mean<span class="op">=</span><span class="op">-</span><span class="fl">.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xbnds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">x1</span>,<span class="va">x2</span>,<span class="va">x3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ybnds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">y1</span>,<span class="va">y2</span>,<span class="va">y3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bin1</span> <span class="op">&lt;-</span> <span class="fu"><a href="hexbin.html">hexbin</a></span><span class="op">(</span><span class="va">x1</span>,<span class="va">y1</span>,xbnds<span class="op">=</span><span class="va">xbnds</span>,ybnds<span class="op">=</span><span class="va">ybnds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bin2</span> <span class="op">&lt;-</span> <span class="fu"><a href="hexbin.html">hexbin</a></span><span class="op">(</span><span class="va">x2</span>,<span class="va">y2</span>,xbnds<span class="op">=</span><span class="va">xbnds</span>,ybnds<span class="op">=</span><span class="va">ybnds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bin3</span> <span class="op">&lt;-</span> <span class="fu"><a href="hexbin.html">hexbin</a></span><span class="op">(</span><span class="va">x3</span>,<span class="va">y3</span>,xbnds<span class="op">=</span><span class="va">xbnds</span>,ybnds<span class="op">=</span><span class="va">ybnds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">erodebin1</span> <span class="op">&lt;-</span> <span class="fu"><a href="erode.hexbin.html">erode.hexbin</a></span><span class="op">(</span><span class="fu"><a href="smooth.hexbin.html">smooth.hexbin</a></span><span class="op">(</span><span class="va">bin1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">erodebin2</span> <span class="op">&lt;-</span> <span class="fu"><a href="erode.hexbin.html">erode.hexbin</a></span><span class="op">(</span><span class="fu"><a href="smooth.hexbin.html">smooth.hexbin</a></span><span class="op">(</span><span class="va">bin2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">erodebin3</span> <span class="op">&lt;-</span> <span class="fu"><a href="erode.hexbin.html">erode.hexbin</a></span><span class="op">(</span><span class="fu"><a href="smooth.hexbin.html">smooth.hexbin</a></span><span class="op">(</span><span class="va">bin3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bnlst</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b1<span class="op">=</span><span class="va">erodebin1</span>, b2<span class="op">=</span><span class="va">erodebin2</span>, b3<span class="op">=</span><span class="va">erodebin3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">hdiffplot</span><span class="op">(</span><span class="va">bnlst</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="hdiffplot-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edzer Pebesma.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

